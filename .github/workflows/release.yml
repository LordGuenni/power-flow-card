name: ğŸš€ Release Custom Card

on:
  workflow_dispatch:

jobs:
  release:
    name: Create GitHub Release
    runs-on: ubuntu-latest

    # The workflow needs 'contents: write' permission to create the release
    permissions:
      contents: write

    steps:
      - name: â¬‡ï¸ Checkout Repository
        uses: actions/checkout@v4

      # --- Critical Step: Create Release and Upload Asset ---
      # This action automatically creates the GitHub Release and attaches files.
      - name: ğŸ“¦ Create Release and Upload power-flow-card.js
        uses: softprops/action-gh-release@v2
        with:
          # Hardcode the tag name for testing purposes.
          tag_name: v1
          # If you want to force it to always be a draft:
          draft: false
          prerelease: false
          # You can also set a name for the release (optional)
          name: Release v1 - Test
          files: |
            power-flow-card.js